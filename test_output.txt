
> kaarplus@1.0.0 test
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/elnuraghabayli/Desktop/Kaarplus[39m

 [32mâœ“[39m apps/api/src/services/dashboardService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/passwordResetService.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/favoriteService.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m apps/web/src/lib/utils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/searchService.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/messageService.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/newsletterService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/adService.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 11[2mms[22m[39m
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mloading state[2m > [22m[2mshould show skeleton while fetching
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mloading state[2m > [22m[2mshould apply custom className during loading
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mbanner ad rendering[2m > [22m[2mshould render banner image with correct attributes
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mbanner ad rendering[2m > [22m[2mshould set role and aria-label for accessibility
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mbanner ad rendering[2m > [22m[2mshould have clickable cursor style
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mfallback behavior[2m > [22m[2mshould render nothing when no ad and no fallback
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mfallback behavior[2m > [22m[2mshould render fallback component when no ad available
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mfallback behavior[2m > [22m[2mshould render fallback on network error
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mAPI requests[2m > [22m[2mshould fetch from correct content-blocks URL
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mAPI requests[2m > [22m[2mshould include targeting context as query params
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mAPI requests[2m > [22m[2mshould omit empty context fields from query
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mimpression tracking[2m > [22m[2mshould fire IMPRESSION after 1s of 50%+ visibility
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mimpression tracking[2m > [22m[2mshould NOT fire impression if element leaves viewport before 1s
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mimpression tracking[2m > [22m[2mshould fire impression only once even with multiple intersections
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mclick tracking[2m > [22m[2mshould fire CLICK event and open link on ad click
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
ReferenceError: React is not defined
    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:110:5)
    at renderWithHooks (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/elnuraghabayli/Desktop/Kaarplus/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:114:17)
[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mclick tracking[2m > [22m[2mshould not open link when linkUrl is null
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mAdSense rendering[2m > [22m[2mshould render AdSense snippet via dangerouslySetInnerHTML
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mAdSense rendering[2m > [22m[2mshould not render image for AdSense type
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mdevice detection[2m > [22m[2mshould report desktop for wide viewports
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

[90mstderr[2m | apps/web/src/components/shared/ad-slot.test.tsx[2m > [22m[2mAdSlot[2m > [22m[2mdevice detection[2m > [22m[2mshould report mobile for narrow viewports
[22m[39mThe above error occurred in the <AdSlot> component:

    at AdSlot (/Users/elnuraghabayli/Desktop/Kaarplus/apps/web/src/components/shared/ad-slot.tsx:13:19)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 [31mâ¯[39m apps/web/src/components/shared/ad-slot.test.tsx [2m([22m[2m20 tests[22m[2m | [22m[31m20 failed[39m[2m)[22m[32m 116[2mms[22m[39m
[31m       [31mÃ—[31m should show skeleton while fetching[39m[32m 30[2mms[22m[39m
[31m       [31mÃ—[31m should apply custom className during loading[39m[32m 15[2mms[22m[39m
[31m       [31mÃ—[31m should render banner image with correct attributes[39m[32m 6[2mms[22m[39m
[31m       [31mÃ—[31m should set role and aria-label for accessibility[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should have clickable cursor style[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should render nothing when no ad and no fallback[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should render fallback component when no ad available[39m[32m 6[2mms[22m[39m
[31m       [31mÃ—[31m should render fallback on network error[39m[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should fetch from correct content-blocks URL[39m[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should include targeting context as query params[39m[32m 6[2mms[22m[39m
[31m       [31mÃ—[31m should omit empty context fields from query[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should fire IMPRESSION after 1s of 50%+ visibility[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should NOT fire impression if element leaves viewport before 1s[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should fire impression only once even with multiple intersections[39m[32m 6[2mms[22m[39m
[31m       [31mÃ—[31m should fire CLICK event and open link on ad click[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should not open link when linkUrl is null[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should render AdSense snippet via dangerouslySetInnerHTML[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should not render image for AdSense type[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should report desktop for wide viewports[39m[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should report mobile for narrow viewports[39m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/web/src/lib/seo.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/adminService.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/emailService.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/reviewService.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/api/src/utils/errors.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/gdprService.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/dealershipService.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/listingService.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m apps/api/src/services/savedSearchService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 2[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 20 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mloading state[2m > [22mshould show skeleton while fetching
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mloading state[2m > [22mshould apply custom className during loading
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mbanner ad rendering[2m > [22mshould render banner image with correct attributes
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mbanner ad rendering[2m > [22mshould set role and aria-label for accessibility
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mbanner ad rendering[2m > [22mshould have clickable cursor style
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mfallback behavior[2m > [22mshould render nothing when no ad and no fallback
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mfallback behavior[2m > [22mshould render fallback component when no ad available
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mfallback behavior[2m > [22mshould render fallback on network error
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mAPI requests[2m > [22mshould fetch from correct content-blocks URL
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mAPI requests[2m > [22mshould include targeting context as query params
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mAPI requests[2m > [22mshould omit empty context fields from query
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mimpression tracking[2m > [22mshould fire IMPRESSION after 1s of 50%+ visibility
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mimpression tracking[2m > [22mshould NOT fire impression if element leaves viewport before 1s
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mimpression tracking[2m > [22mshould fire impression only once even with multiple intersections
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mclick tracking[2m > [22mshould fire CLICK event and open link on ad click
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mclick tracking[2m > [22mshould not open link when linkUrl is null
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mAdSense rendering[2m > [22mshould render AdSense snippet via dangerouslySetInnerHTML
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mAdSense rendering[2m > [22mshould not render image for AdSense type
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mdevice detection[2m > [22mshould report desktop for wide viewports
[41m[1m FAIL [22m[49m apps/web/src/components/shared/ad-slot.test.tsx[2m > [22mAdSlot[2m > [22mdevice detection[2m > [22mshould report mobile for narrow viewports
[31m[1mReferenceError[22m: React is not defined[39m
[36m [2mâ¯[22m AdSlot apps/web/src/components/shared/ad-slot.tsx:[2m110:5[22m[39m
    [90m108| [39m  [90m// Loading state with skeleton for CLS prevention[39m
    [90m109| [39m  [35mif[39m (isLoading) {
    [90m110| [39m    [35mreturn[39m (
    [90m   | [39m    [31m^[39m
    [90m111| [39m      [33m<[39m[33mdiv[39m [33mref[39m[33m=[39m[33m{[39mcontainerRef[33m}[39m [33mclassName[39m[33m=[39m[33m{[39m[34mcn[39m([32m"w-full"[39m[33m,[39m className)[33m}[39m[33m>[39m
    [90m112| [39m        [33m<[39m[33mSkeleton[39m [33mclassName[39m[33m=[39m[32m"w-full h-[200px] rounded-xl"[39m [33m/[39m[33m>[39m
[90m [2mâ¯[22m renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:[2m15486:18[22m[39m
[90m [2mâ¯[22m mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:[2m20103:13[22m[39m
[90m [2mâ¯[22m beginWork node_modules/react-dom/cjs/react-dom.development.js:[2m21626:16[22m[39m
[90m [2mâ¯[22m beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:[2m27465:14[22m[39m
[90m [2mâ¯[22m performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:[2m26599:12[22m[39m
[90m [2mâ¯[22m workLoopSync node_modules/react-dom/cjs/react-dom.development.js:[2m26505:5[22m[39m
[90m [2mâ¯[22m renderRootSync node_modules/react-dom/cjs/react-dom.development.js:[2m26473:7[22m[39m
[90m [2mâ¯[22m recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:[2m25889:20[22m[39m
[90m [2mâ¯[22m performConcurrentWorkOnRoot node_modules/react-dom/cjs/react-dom.development.js:[2m25789:22[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/20]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m17 passed[39m[22m[90m (18)[39m
[2m      Tests [22m [1m[31m20 failed[39m[22m[2m | [22m[1m[32m151 passed[39m[22m[90m (171)[39m
[2m   Start at [22m 11:15:52
[2m   Duration [22m 1.56s[2m (transform 755ms, setup 967ms, import 1.20s, tests 215ms, environment 8.69s)[22m

